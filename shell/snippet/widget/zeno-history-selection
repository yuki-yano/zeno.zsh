#autoload

emulate -L zsh

local command history

command="\"\${ZENO_FZF_COMMAND}\" ${ZENO_FZF_TMUX_OPTIONS} --no-sort --exact --query=\"\$LBUFFER\" --prompt='History> '"
history=$(builtin history -n -r 1 | eval $command)

if [[ -n $history ]]; then
  BUFFER=$history
  CURSOR=$#BUFFER
fi

zle reset-prompt
